<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Start cookieyes banner - Only load on production domain -->
  <script>
    // Only load CookieYes on production domain, not localhost
    if (window.location.hostname !== 'localhost' && 
        window.location.hostname !== '127.0.0.1' && 
        !window.location.hostname.startsWith('192.168.') &&
        !window.location.hostname.startsWith('10.') &&
        window.location.hostname !== '') {
      var script = document.createElement('script');
      script.id = 'cookieyes';
      script.type = 'text/javascript';
      script.src = 'https://cdn-cookieyes.com/client_data/0cc137e141492894816e3e85bd125764/script.js';
      document.head.appendChild(script);
    }
  </script>
  <!-- End cookieyes banner -->
  
  <!-- Force CookieYes banner to stay visible -->
  <script>
    (function() {
      'use strict';
      
      // Skip on localhost - CookieYes doesn't load there
      if (window.location.hostname === 'localhost' || 
          window.location.hostname === '127.0.0.1' || 
          window.location.hostname.startsWith('192.168.') ||
          window.location.hostname.startsWith('10.') ||
          window.location.hostname === '') {
        return;
      }
      
      let bannerFound = false;
      let isUpdating = false; // Prevent infinite loops
      
      function forceBannerVisible() {
        // Prevent recursive calls
        if (isUpdating) return;
        isUpdating = true;
        // Find all possible CookieYes banner selectors
        const selectors = [
          '#cookieyes-banner',
          '.cky-banner',
          '[id*="cookieyes"]',
          '[class*="cky-banner"]',
          '[class*="cookieyes"]',
          '[id*="cky"]',
          'div[class*="cookie"]'
        ];
        
        selectors.forEach(selector => {
          try {
            const elements = document.querySelectorAll(selector);
            elements.forEach(el => {
              if (el && (el.offsetWidth > 0 || el.offsetHeight > 0 || el.textContent.trim().length > 0)) {
                bannerFound = true;
                // Only update if actually needed to prevent infinite loops
                if (el.style.display === 'none' || el.style.visibility === 'hidden' || el.style.opacity === '0') {
                  el.style.display = 'block';
                  el.style.visibility = 'visible';
                  el.style.opacity = '1';
                  el.style.zIndex = '99999';
                  el.style.position = 'fixed';
                  el.style.bottom = '0';
                  el.style.left = '0';
                  el.style.right = '0';
                }
                // Remove any hidden classes
                el.classList.remove('hidden', 'cky-hidden', 'cookieyes-hidden', 'cky-notice-box-hidden');
              }
            });
          } catch(e) {
            console.error('CookieYes selector error:', e);
          }
        });
        
        // Also check for iframes that might contain the banner
        try {
          const iframes = document.querySelectorAll('iframe[src*="cookieyes"], iframe[src*="cky"]');
          iframes.forEach(iframe => {
            iframe.style.setProperty('display', 'block', 'important');
            iframe.style.setProperty('visibility', 'visible', 'important');
            iframe.style.setProperty('z-index', '99999', 'important');
          });
        } catch(e) {}
        
        isUpdating = false;
      }
      
      // Run immediately
      forceBannerVisible();
      
      // Run on DOM ready
      if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', function() {
          forceBannerVisible();
          setTimeout(forceBannerVisible, 1000);
          setTimeout(forceBannerVisible, 2000);
        });
      } else {
        forceBannerVisible();
        setTimeout(forceBannerVisible, 1000);
        setTimeout(forceBannerVisible, 2000);
      }
      
      // Run on window load
      window.addEventListener('load', function() {
        forceBannerVisible();
        setTimeout(forceBannerVisible, 500);
        setTimeout(forceBannerVisible, 1500);
      });
      
      // Monitor for DOM additions only (not style changes) to prevent infinite loops
      const observer = new MutationObserver(function(mutations) {
        // Only react to new nodes being added, not style/attribute changes
        const hasNewNodes = mutations.some(mutation => 
          mutation.type === 'childList' && mutation.addedNodes.length > 0
        );
        if (hasNewNodes) {
          forceBannerVisible();
        }
      });
      
      // Start observing when body is available - only watch for new nodes
      function startObserving() {
        if (document.body) {
          observer.observe(document.body, {
            childList: true,
            subtree: true,
            attributes: false // Don't watch attributes to prevent loops
          });
        } else {
          setTimeout(startObserving, 100);
        }
      }
      
      startObserving();
      
      // Continuously check every 300ms for first 10 seconds, then every 1 second
      let checkCount = 0;
      const fastInterval = setInterval(function() {
        forceBannerVisible();
        checkCount++;
        if (checkCount >= 33) { // ~10 seconds
          clearInterval(fastInterval);
        }
      }, 300);
      
      // Also check every 2 seconds (less frequent to reduce load)
      setInterval(forceBannerVisible, 2000);
      
      // Debug: Log after 3 seconds
      setTimeout(function() {
        if (!bannerFound) {
          console.warn('CookieYes banner not found in DOM. Check CookieYes dashboard settings and domain configuration.');
        }
      }, 3000);
    })();
  </script>
  
  <!-- Google Consent Mode - Must load BEFORE GTM/GA -->
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    
    // Set default consent state to 'denied' - no cookies until consent
    gtag('consent', 'default', {
      'analytics_storage': 'denied',
      'ad_storage': 'denied',
      'wait_for_update': 500
    });
    
    // Listen for CookieYes consent updates and update Google Consent Mode
    window.addEventListener('CookieYes', function(e) {
      if (e.detail && e.detail.action === 'accept' || e.detail === 'accept') {
        gtag('consent', 'update', {
          'analytics_storage': 'granted',
          'ad_storage': 'granted'
        });
      } else if (e.detail && e.detail.action === 'reject' || e.detail === 'reject') {
        gtag('consent', 'update', {
          'analytics_storage': 'denied',
          'ad_storage': 'denied'
        });
      }
    });
    
    document.addEventListener('DOMContentLoaded', function() {
      if (typeof window.CookieYes !== 'undefined' && window.CookieYes.getConsent) {
        const consent = window.CookieYes.getConsent();
        if (consent && consent.analytics) {
          gtag('consent', 'update', {
            'analytics_storage': 'granted',
            'ad_storage': 'granted'
          });
        }
      }
    });
  </script>
  
  <!-- Google Tag Manager - Blocked until consent -->
  <script data-cookieyes="cookieyes-analytics">(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-K97CNH32');</script>
  <!-- End Google Tag Manager -->
  <!-- Google tag (gtag.js) - Blocked until consent -->
  <script async data-cookieyes="cookieyes-analytics" src="https://www.googletagmanager.com/gtag/js?id=G-X89C2WMLSL"></script>
  <script data-cookieyes="cookieyes-analytics">
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-X89C2WMLSL');
  </script>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <!-- Primary Meta Tags -->
  <title>Thank You 路 Artur Morin</title>
  <meta name="title" content="Thank You 路 Artur Morin">
  <meta name="description" content="Thank you for contacting Artur Morin. Your message has been received and we'll get back to you soon.">
  <meta name="robots" content="noindex, nofollow">
  <link rel="canonical" href="https://arturmorin.page/thank-you/">
  
  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://arturmorin.page/thank-you/">
  <meta property="og:title" content="Thank You 路 Artur Morin">
  <meta property="og:description" content="Thank you for contacting Artur Morin. Your message has been received.">
  <meta property="og:site_name" content="Artur Morin Photography">
  
  <!-- Twitter -->
  <meta name="twitter:card" content="summary">
  <meta name="twitter:url" content="https://arturmorin.page/thank-you/">
  <meta name="twitter:title" content="Thank You 路 Artur Morin">
  <meta name="twitter:description" content="Thank you for contacting Artur Morin.">
  
  <!-- Favicon -->
  <link rel="icon" type="image/svg+xml" href="assets/favicon.svg">
  <link rel="icon" type="image/png" sizes="32x32" href="assets/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="assets/favicon-16x16.png">
  <link rel="apple-touch-icon" sizes="180x180" href="assets/apple-touch-icon.png">
  <meta name="theme-color" content="#0f0f0f">
  
  <!-- Preconnect for performance -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  
  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,600;0,700;1,400&family=Inter:wght@300;400;500;600&family=Science+Gothic:wght@400;600;700&family=Space+Mono:wght@400;700&display=swap" rel="stylesheet">
  
  <!-- Styles -->
  <link rel="stylesheet" href="css/thank-you.css">
<body>
  <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-K97CNH32"
  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->
  
  <!-- Film grain overlay -->
  <div class="grain" aria-hidden="true"></div>
  
  <!-- Shutter Animation -->
  <div class="shutter-animation" id="shutter">
    <div class="shutter-blade shutter-blade-top"></div>
    <div class="shutter-blade shutter-blade-bottom"></div>
  </div>
  
  <!-- Flash Effect -->
  <div class="flash-effect" id="flash"></div>
  
  <!-- Film Strips -->
  <div class="film-strip film-strip-top"></div>
  <div class="film-strip film-strip-bottom"></div>
  
  <!-- Aperture Ring -->
  <div class="aperture-ring-thanks"></div>
  
  <!-- Thank You Container -->
  <div class="thank-you-container">
    <!-- Floating Particles -->
    <div id="particles-container"></div>
    
    <div class="thank-you-content">
      <!-- Checkmark Icon -->
      <div class="thank-you-icon">
        <svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
          <circle cx="50" cy="50" r="45" stroke="rgba(212, 177, 122, 0.2)" stroke-width="2" fill="none"/>
          <path class="checkmark" d="M 25 50 L 45 70 L 75 30" />
        </svg>
      </div>
      
      <h1 class="thank-you-title">Message<br><span class="italic">Received</span></h1>
      
      <p class="thank-you-subtitle">Frame Captured</p>
      
      <p class="thank-you-message">
        Thank you for reaching out! Your message has been sent successfully. 
        I'll review it and get back to you as soon as possible. 
        Looking forward to creating something amazing together.
      </p>
      
      <a href="/" class="back-to-site-btn">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M19 12H5M12 19l-7-7 7-7"/>
        </svg>
        <span>Back to Website</span>
      </a>
    </div>
  </div>
  
  <script src="js/thank-you.js"></script>
  <script>
    // Shutter animation on load
    window.addEventListener('load', () => {
      const shutter = document.getElementById('shutter');
      const flash = document.getElementById('flash');
      
      // Trigger shutter and flash
      setTimeout(() => {
        shutter.classList.add('active');
        flash.style.animation = 'none';
        setTimeout(() => {
          flash.style.animation = 'flash 0.3s ease-out';
        }, 10);
      }, 100);
      
      // Remove shutter after animation
      setTimeout(() => {
        shutter.style.display = 'none';
      }, 700);
    });
    
    // Create floating particles
    function createParticles() {
      const container = document.getElementById('particles-container');
      const particleCount = 15;
      
      for (let i = 0; i < particleCount; i++) {
        const particle = document.createElement('div');
        particle.className = 'particle';
        particle.style.left = Math.random() * 100 + '%';
        particle.style.bottom = '-10px';
        particle.style.animationDelay = Math.random() * 8 + 's';
        particle.style.animationDuration = (Math.random() * 4 + 6) + 's';
        container.appendChild(particle);
      }
    }
    
    createParticles();
    
    // Track thank you page view
    if (window.dataLayer) {
      window.dataLayer.push({
        'event': 'thank_you_page_view',
        'page_type': 'form_submission_success'
      });
    }
  </script>
</body>
</html>

